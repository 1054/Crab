./CrabFitsImageArithmetic_mac image_sci.fits '!=' image_sci.fits image_sci_nan_mask.fits

./CrabFitsImageArithmetic_mac image_sci.fits '*' 0.0 image_sci_zero.fits

./CrabFitsImageArithmetic_mac image_sci.fits '*' -1.0 image_sci_negative.fits

./CrabFitsImageArithmetic_mac image_sci.fits '*' 1.0 -remove-nan image_sci_nonan.fits




# Multiplication/Division

./CrabFitsImageArithmetic_mac image_rms.fits '/' 10.0 image_rms_2.fits




# Multiple extension fits image

./CrabFitsImageArithmetic_mac fit_3_bug_20170920a.fits -ext 1 '-' fit_3_bug_20170920a.fits -ext 2 fit_3_bug_20170920a_residual.fits

./CrabFitsImageArithmetic_mac fit_3_bug_20170920a_residual.fits 'eq' fit_3_bug_20170920a_residual.fits fit_3_bug_20170920a_residual_check_eq.fits






# 20190617
# With computing rectangle

./CrabFitsImageArithmetic_mac image_sci.fits -rect 244 218 244 218 times 0.0 test_rect.fits
ds9 -tile mode column -lock frame image -lock scale yes -lock colorbar yes image_sci.fits test_rect.fits
rm test_rect.fits



# 20190617
# With computing rectangle
# 
# first create a 5x5 pixel small image and add it to image_sci.fits
idl
a = dblarr(5,5)
a[*,*] = 2.0
mwrfits, a, 'image_5x5.fits'
# 
# then do the computing test
./CrabFitsImageArithmetic_mac image_sci.fits -rect 244 218 248 222 times image_5x5.fits test_rect.fits
ds9 -tile mode column -lock frame image -lock scale yes -lock colorbar yes image_sci.fits test_rect.fits
rm test_rect.fits




