go
    set nObs = 1
    set nRow = 10*4*6
    set iLoop = 0
    set SDOBSList_size = 1
    set SDLIBList_size = 3
    set SDLIBList_YNums = {10 4 6}
    while {iLoop >= 0 && iLoop < nObs*nRow} {
        
        # iObs is a list of indices for the 0-th source in each OBS file (because each OBS file only contain 1 source).
        declare iObs $(SDOBSList_size).d
        set iObs[int(iLoop/nRow)] = 0
        set iLoopPerObs = iLoop % nRow # iLIB for each OBS, e.g., LIB1[10] LIB2[8] LIB3[4] 9 7 3
        
        # iLib is a list of indices for the k-th model in each LIB file
        declare iLib $(SDLIBList_size).d
        
        set NumbLibMulti = nRow
        do j=0,SDLIBList_size-1,1 {
            set j = $j
            set SDLIB_YNum = SDLIBList_YNums[j]
            set NumbLibMulti = NumbLibMulti / SDLIB_YNum
            set iLib[j] = int(iLoopPerObs / NumbLibMulti)
            set iLoopPerObs = iLoopPerObs % NumbLibMulti
            # for example, we have three libs:
            # LIB1[10], LIB2[4], LIB3[6]
            # iLib 0 == indices {0 0 0}
            # iLib 1 == indices {0 0 1}
            # iLib 5 == indices {0 0 5}
            # iLib 6 == indices {0 1 0}
        }
        define print_noheader 1
        print '%0d %0d %0d ' {iLoop iObs iLib}
        #print '\n' {}
        
        set iLoop = iLoop + 1
        
    }
    #print {iObs}
    #print {iLib}
    
    set iLib = {9 3 4}
    set IdPool = 0
    set NumbLibMulti = 1
    do j=0,SDLIBList_size-1 {
        set j = $j
        set IdPool = IdPool + NumbLibMulti * iLib[SDLIBList_size-1-j]
        set SDLIB_YNum = SDLIBList_YNums[SDLIBList_size-1-j]
        set NumbLibMulti = NumbLibMulti * SDLIB_YNum
    }
    set IdPool = int(IdPool + NumbLibMulti * iObs)
    print '---\n' {}
    print '%0d %0d %0d ' {IdPool iObs iLib}
    

